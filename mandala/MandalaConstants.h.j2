{%- extends 'Mandala.j2' %}

{%- block content -%}
// generated file

#pragma once

#include <MandalaMetaBase.h>

namespace mandala {

{%- set ind = ' '*indent_size -%}

{%- set all_units = namespace(value=[]) -%}
{%- call(m) mandala_meta() -%}
{% if m.units_label %}
{% set all_units.value = all_units.value + [m.units_label] -%}
{% endif %}
{%- endcall -%}

{%- set all_units.value = all_units.value|list|unique|sort -%}

// constants
enum constants_e : byte_t {
{{ mandala_constants(1) }}
};

// enum of all used units
enum units_e {
{{ ind }}units_none,
{{ ind }}units_bit,
{{ ind }}units_opt,
{% for i in all_units.value %}
{{ ind }}units_{{ i }},
{% endfor %}
};


}; // namespace mandala

{% endblock %}
