//-------------------------
#define MGRP1 state
MGRP1_BEGIN("System state"

- name: ahrs
title: Attitude and position estimation"
- name: att
  sfmt: roll
  sfmt: pitch
  sfmt: yaw
- name: roll
  title: Attitude roll
  units: deg
  alias: roll
  sfmt: f2
- name: pitch
  title: Attitude pitch
  units: deg
  alias: pitch
  sfmt: f2
- name: yaw
  title: Attitude yaw
  units: deg
  alias: yaw
  sfmt: f2
//MFVECT(float
  sfmt: att,roll,pitch,yaw
  sfmt: "Attitude
  units: deg
  alias: roll,pitch,yaw
  sfmt: f2
- name: lat
  title: Latitude
  units: deg
  alias:
  sfmt: f4
- name: lon
  title: Longitude
  units: deg
  alias:
  sfmt: f4
//MFVEC2(ne
  sfmt: north,east
- name: north
  title: Local position north
  units: m
  alias:
  sfmt: f4
- name: east
  title: Local position east
  units: m
  alias:
  sfmt: f4
//MFVEC2(vel
  sfmt: north,east
- name: vn
  title: Local velocity north
  units: m/s
  alias:
  sfmt: f2
- name: ve
  title: Local velocity east
  units: m/s
  alias:
  sfmt: f2
//MFVEC2(float
  sfmt: NE,N,E
  sfmt: "Local position
  units: m
  alias: pos_north,pos_east
  sfmt: f4
//MFVEC2(float
  sfmt: vel,N,E
  sfmt: "Local velocity
  units: m/s
  alias: vel_north,vel_east
  sfmt: f2
- name: altitude
  title: Altitude
  units: m
  alias: altitude
  sfmt: f4
- name: course
  title: Moving direction
  units: deg
  alias: course
  sfmt: f2
- name: gSpeed
  title: Ground speed
  units: m/s
  alias: gSpeed
  sfmt: f2
MGRP2_END
#undef MGRP2

- name: flight
title: Flight parameters"
- name: airspeed
  title: Airspeed
  units: m/s
  alias: airspeed
  sfmt: f2
- name: vspeed
  title: Vertical speed
  units: m/s
  alias: vspeed
  sfmt: f2
- name: ldratio
  title: Glide ratio
  units: Lift/Drag
  alias: ldratio
  sfmt: f2
- name: venergy
  title: Compensated variometer
  units: m/s
  alias: venergy
  sfmt: f2
- name: agl
  title: Above Ground Level altitude
  units: m
  alias: agl
  sfmt: f2
- name: vcas
  title: Airspeed derivative
  units: m/s^2
  alias: vcas
  sfmt: f2
- name: denergy
  title: Venergy derivative
  units: m/s^2
  alias: denergy
  sfmt: f2
MGRP2_END
#undef MGRP2

- name: status
title: Status of subsystems"
MFIELD(bit
  sfmt: rc
  title: RC on/off"
  sfmt: status_rc
  sfmt:
MFIELD(bit
  sfmt: gps
  title: GPS available/lost"
  sfmt: status_gps
  sfmt:
MFIELD(bit
  sfmt: agl
  title: AGL available/off"
  sfmt: status_agl
  sfmt:
MFIELD(bit
  sfmt: uplink
  title: Uplink available/lost"
  sfmt: status_modem
  sfmt:
MFIELD(bit
  sfmt: landed
  title: Vehicle landed/flying"
  sfmt: status_landed
  sfmt:
MFIELD(bit
  sfmt: touch
  title: Landing gear touchdown/floating"
  sfmt: status_touch
  sfmt:
MGRP2_END
#undef MGRP2

- name: error
title: System errors and warnings"
MFIELD(bit
  sfmt: fatal
  title: Fatal error/ok"
  sfmt:
  sfmt:
MFIELD(bit
  sfmt: power
  title: Power supply error/ok"
  sfmt: error_power
  sfmt:
MFIELD(bit
  sfmt: engine
  title: Engine error/ok"
  sfmt:
  sfmt:
MFIELD(bit
  sfmt: rpm
  title: RPM sensor error/ok"
  sfmt: error_rpm
  sfmt:
MFIELD(bit
  sfmt: cas
  title: CAS error"
  sfmt: error_cas
  sfmt:
MFIELD(bit
  sfmt: pstatic
  title: Static pressure error/ok"
  sfmt: error_pstatic
  sfmt:
MFIELD(bit
  sfmt: gyro
  title: IMU gyros bias"
  sfmt: error_gyro
  sfmt:
MFIELD(bit
  sfmt: ers
  title: ERS error/ok"
  sfmt:
  sfmt:
MGRP2_END
#undef MGRP2

- name: nav
title: Navigation parameters"
//MFVEC2(dxy
  sfmt: dx,dy
- name: dx
  title: Bodyframe delta X
  units: m
  alias:
  sfmt: f2
- name: dy
  title: Bodyframe delta Y
  units: m
  alias:
  sfmt: f2
//MFVEC2(vxy
  sfmt: vx,vy
- name: vx
  title: Bodyframe velocity X
  units: m/s
  alias:
  sfmt: f2
- name: vy
  title: Bodyframe velocity Y
  units: m/s
  alias:
  sfmt: f2
//MFVEC2(float
  sfmt: dXY,x,y
  sfmt: "Bodyframe delta
  units: m
  alias: dx,dy
  sfmt: f2
//MFVEC2(float
  sfmt: vXY,x,y
  sfmt: "Bodyframe velocity
  units: m/s
  alias: Vx,Vy
  sfmt: f2
- name: delta
  title: General delta (depends on mode
  units: m
  alias: delta
  sfmt: f2
- name: tgHDG
  title: Current tangent heading
  units: deg
  alias: tgHDG
  sfmt: f2
- name: stab
  title: Stability
  units: 0..1
  alias: stab
  sfmt: u001
- name: corr
  title: Correlator output
  units: K
  alias:
  sfmt: f2
- name: rwDelta
  title: Runway alignment
  units: m
  alias: rwDelta
  sfmt: f2
- name: rwDV
  title: Runway alignment velocity
  units: m/s
  alias: rwDV
  sfmt: f2
MGRP2_END
#undef MGRP2

- name: mission
title: Waypoint information"
- name: DME
  title: Distance to waypoint
  units: m
  alias: dWPT
  sfmt: f2
- name: HDG
  title: Current waypoint heading
  units: deg
  alias: wpHDG
  sfmt: f2
MFIELD(uint
  sfmt: ETA
  title: Estimated time of arrival
  units: s
  alias: ETA
  sfmt: u4
MFIELD(byte
  sfmt: wpidx
  title: Current waypoint
  units: 0..255
  alias: wpidx
  sfmt:
MFIELD(byte
  sfmt: rwidx
  title: Current runway
  units: 0..255
  alias: rwidx
  sfmt:
MFIELD(byte
  sfmt: twidx
  title: Current taxiway
  units: 0..255
  alias: twidx
  sfmt:
MFIELD(byte
  sfmt: piidx
  title: Current point of interest
  units: 0..255
  alias: piidx
  sfmt:
MGRP2_END
#undef MGRP2

- name: ils
title: Instrument Landing System status"
MFIELD(bit
  sfmt: armed
  title: ILS armed/off"
  sfmt:
  sfmt:
MFIELD(bit
  sfmt: approach
  title: ILS approach available/lost"
  sfmt:
  sfmt:
MFIELD(bit
  sfmt: offset
  title: ILS offset available/lost"
  sfmt:
  sfmt:
MFIELD(bit
  sfmt: platform
  title: ILS platform available/lost"
  sfmt:
  sfmt:
MGRP2_END
#undef MGRP2

- name: home
title: Home point"
- name: pos
  sfmt: lat
  sfmt: lon
  sfmt: hmsl
- name: lat
  title: Home latitude
  units: deg
  alias: home_lat
  sfmt: f4
- name: lon
  title: Home latitude
  units: deg
  alias: home_lon
  sfmt: f4
- name: hmsl
  title: Home altitude MSL
  units: m
  alias: home_hmsl
  sfmt: f4
//MFVECT(float
  sfmt: pos,lat,lon,hmsl,"Home global position
  units: deg,deg,m
  alias: home_lat,home_lon,home_hmsl
  sfmt: f4
- name: altps
  title: Barometric altitude on ground level
  units: m
  alias: altps_gnd
  sfmt: f2
- name: HDG
  title: Heading to home
  units: deg
  alias: homeHDG
  sfmt: f2
- name: dist
  title: Distance to home
  units: m
  alias: dHome
  sfmt: f2
MFIELD(bit
  sfmt: set
  title: GPS initialized"
  sfmt: status_home
  sfmt:
MGRP2_END
#undef MGRP2

- name: wind
title: Wind estimator"
- name: speed
  title: wind speed
  units: m/s
  alias: windSpd
  sfmt: u01
- name: HDG
  title: wind direction to
  units: deg
  alias: windHdg
  sfmt: f2
- name: cas2tas
  title: CAS to TAS multiplier
  units: K
  alias: cas2tas
  sfmt: u001
MGRP2_END
#undef MGRP2

- name: downlink
title: Downlink parameters"
MFIELD(uint
  sfmt: period
  title: downlink period
  units: ms
  alias: dl_period
  sfmt: u2
MFIELD(uint
  sfmt: timestamp
  title: downlink timestamp
  units: ms
  alias: dl_timestamp
  sfmt: u4
MGRP2_END
#undef MGRP2

- name: cam
title: Camera control system state"
- name: att
  sfmt: roll
  sfmt: pitch
  sfmt: yaw
- name: roll
  title: Cam attitude roll
  units: deg
  alias: cam_roll
  sfmt: f2
- name: pitch
  title: Cam attitude pitch
  units: deg
  alias: cam_pitch
  sfmt: f2
- name: yaw
  title: Cam attitude yaw
  units: deg
  alias: cam_yaw
  sfmt: f2
//MFVECT(float
  sfmt: att,roll,pitch,yaw
  title: Cam attitude
  units: deg
  alias: cam_roll,cam_pitch,cam_yaw
  sfmt: f2
MFIELD(uint
  sfmt: timestamp
  title: Cam timestamp
  units: ms
  alias: cam_timestamp
  sfmt: u4
- name: DME
  title: Distance to tracking object
  units: m
  alias:
  sfmt: f2
MGRP2_END
#undef MGRP2

- name: ats
title: ATS system state"
- name: att
  sfmt: roll
  sfmt: pitch
  sfmt: yaw
- name: roll
  title: ATS attitude roll
  units: deg
  alias:
  sfmt: f2
- name: pitch
  title: ATS attitude pitch
  units: deg
  alias:
  sfmt: f2
- name: yaw
  title: ATS attitude yaw
  units: deg
  alias:
  sfmt: f2
- name: enc_roll
  title: ATS encoder roll
  units: deg
  alias: atsenc_roll
  sfmt: f2
- name: enc_pitch
  title: ATS encoder pitch
  units: deg
  alias: atsenc_pitch
  sfmt: f2
- name: enc_yaw
  title: ATS encoder yaw
  units: deg
  alias: atsenc_yaw
  sfmt: f2
//MFVECT(float
  sfmt: att,roll,pitch,yaw
  title: ATS attitude
  units: deg
  alias: ,,
  sfmt: f2
//MFVECT(float
  sfmt: enc,roll,pitch,yaw
  title: ATS encoders
  units: deg
  alias: atsenc_roll,atsenc_pitch,atsenc_yaw
  sfmt: f4
MFENUM(enum
  sfmt: mode
  title: ATS mode"
  sfmt: ats_mode
  sfmt:
MFENUMV(mode
  sfmt: track
  title: turret off"
  sfmt: 0
MFENUMV(mode
  sfmt: manual
  title: fixed position"
  sfmt: 1
MFENUM_END(mode
MGRP2_END
#undef MGRP2

- name: turret
title: Turret system state"
- name: roll
  title: Turret attitude roll
  units: deg
  alias:
  sfmt: f2
- name: pitch
  title: Turret attitude pitch
  units: deg
  alias:
  sfmt: f2
- name: yaw
  title: Turret attitude yaw
  units: deg
  alias:
  sfmt: f2
- name: enc_roll
  title: Turret encoder roll
  units: deg
  alias:
  sfmt: f2
- name: enc_pitch
  title: Turret encoder pitch
  units: deg
  alias:
  sfmt: f2
- name: enc_yaw
  title: Turret encoder yaw
  units: deg
  alias:
  sfmt: f2
//MFVECT(float
  sfmt: att,roll,pitch,yaw
  title: Turret attitude
  units: deg
  alias: ,,
  sfmt: f2
//MFVECT(float
  sfmt: enc,roll,pitch,yaw
  title: Turret encoders
  units: deg
  alias: ,,
  sfmt: f4
MFIELD(byte
  sfmt: ammo
  title: Turret ammo
  units: 0..255
  alias:
  sfmt:
MGRP2_END
#undef MGRP2

- name: usr
title: User values"
- name: u1
  title: User value 1"
  sfmt: user1
  sfmt: f2
- name: u2
  title: User value 2"
  sfmt: user2
  sfmt: f2
- name: u3
  title: User value 3"
  sfmt: user3
  sfmt: f2
- name: u4
  title: User value 4"
  sfmt: user4
  sfmt: f2
- name: u5
  title: User value 5"
  sfmt: user5
  sfmt: f2
- name: u6
  title: User value 6"
  sfmt: user6
  sfmt: f2
- name: u7
  title: User value 7"
  sfmt: user7
  sfmt: f2
- name: u8
  title: User value 8"
  sfmt: user8
  sfmt: f2
- name: u9
  title: User value 9"
  sfmt:
  sfmt: f2
- name: u10
  title: User value 10"
  sfmt:
  sfmt: f2
- name: u11
  title: User value 11"
  sfmt:
  sfmt: f2
- name: u12
  title: User value 12"
  sfmt:
  sfmt: f2
- name: u13
  title: User value 13"
  sfmt:
  sfmt: f2
- name: u14
  title: User value 14"
  sfmt:
  sfmt: f2
- name: u15
  title: User value 15"
  sfmt:
  sfmt: f2
- name: u16
  title: User value 16"
  sfmt:
  sfmt: f2
MFIELD(bit
  sfmt: b1
  title: User bit 1"
  sfmt: userb_1
  sfmt:
MFIELD(bit
  sfmt: b2
  title: User bit 2"
  sfmt: userb_2
  sfmt:
MFIELD(bit
  sfmt: b3
  title: User bit 3"
  sfmt: userb_3
  sfmt:
MFIELD(bit
  sfmt: b4
  title: User bit 4"
  sfmt: userb_4
  sfmt:
MFIELD(bit
  sfmt: b5
  title: User bit 5"
  sfmt: userb_5
  sfmt:
MFIELD(bit
  sfmt: b6
  title: User bit 6"
  sfmt: userb_6
  sfmt:
MFIELD(bit
  sfmt: b7
  title: User bit 7"
  sfmt: userb_7
  sfmt:
MFIELD(bit
  sfmt: b8
  title: User bit 8"
  sfmt: userb_8
  sfmt:
MGRP2_END
#undef MGRP2

MGRP1_END
#undef MGRP1
