mandala:
  title: Mandala
  desc: Vehicle core data manager and data structure.

  # Tree contains five levels of IDs (15 bits):
  #   4  classes      2 bits  b14-b13
  #   2  types        1 bit   b12
  #   8  subsystems   3 bits  b11-b9
  #   8  modules      3 bits  b8-b6
  #   8  groups       3 bits  b5-b3
  #   8  fields       3 bits  b2-b0

  # Data flow:
  #
  #   |sensors|  ->  |state|  ->  |cmd|  ->  |ctr|
  #   |-----estimators-----|
  #                  |---navigators---|
  #                               |--controllers-|
  #                  |---------telemetry---------|
  #                               |----uplink----|

  # defaults:
  type: float
  prec: 2
  sprec: f2
  contents:
    - name: sns
      title: Sensors
      desc:
        Read only data sources, measured by sensors from physical parameters.
        Used as inputs to estimators. Never sent through telemetry stream.
      contents:
        - name: nav
          references: sns-nav
          title: Navigation
          desc: Sensors used for vehicle navigation and controls.
            Used as input for position and attitude estimators and
            for filters to supply aerodynamic controls.

        - name: env
          references: sns-env
          title: Environment
          desc: Environmental sensors.
            Data used as inputs for filters to estimate vehicle state
            and safety conditions.

    - name: ctr
      title: Controls
      desc: Controls for vehicle drives and servos.
        Published by regulators.
      contents:
        - name: nav
          references: ctr-nav
          title: Navigation
          desc: Controls used for vehicle stabilization.
            Data published by controllers for aerodynamic controls.

        - name: env
          references: ctr-env
          title: Environment
          desc: Environmental controls.
            Data generated by internal logic or uplink from GCS.

    - name: state
      references: state
      title: State
      desc: Current vehicle state.
        Estimated values of sensors and current navigator status.
      contents:
        - name: nav
          references: state-nav
          title: Navigation
          desc: Estimated data used for vehicle regulators.
            Filtered sensor data.

        - name: env
          references: state-env
          title: Environment
          desc: Processed data of current vehicle conditions.
            Can be overriden by GCS uplink.

    - name: cmd
      references: cmd
      title: Commands
      desc: Commanded values.
        Received from the GCS or provided by navigator as commands for
        regulators.
      contents:
        - name: nav
          references: cmd-nav
          title: Navigation
          desc: Commanded values generated by controllers.

        - name: env
          references: cmd-env
          title: Environment
          desc: Values received through GCS uplink only.
            Never generated by controllers.
