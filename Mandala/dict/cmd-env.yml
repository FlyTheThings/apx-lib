- name: vehicle
  title: Vehicle object data
  content:
    - name: ident
      title: Vehicle Identification
      descr: <squawk>[<ident>]
    - name: xpdr
      title: Transponder data
      descr: <squawk><xpdr data>
    - name: downlink
      title: Data packet from vehicle to GCS
      descr: <squawk><uid><data...>
    - name: uplink
      title: Data packet from GCS to vehicle
      descr: <squawk><uid><data...> or <empty> for heartbeat

- name: telemetry
  title: Telemetry stream
  content:
    - name: data
      title: Telemetry data
      descr: <time><hash feed><fmt feed><packed data...>
    - name: format
      title: Telemetry format array
      descr: req <part>, re <part><parts_cnt><format feed block 256 bytes>

- name: mission
  title: Mission data
  content:
    - name: data
      title: Mission data
    - name: info
      title: Mission information

- name: vcp
  title: Virtual comm port data
  content:
    - name: rx
      title: Received VCP serial data
      descr: <port_id><data...>
    - name: tx
      title: Transmit VCP serial data
      descr: <port_id><data...>
    # - name: can_rx
    #   title: Received AUX CAN message
    #   descr: <port_id><ID32 b31=IDE><data...>
    # - name: can_tx
    #   title: Transmit AUX CAN message
    #   descr: <port_id><ID32 b31=IDE><data...>

- name: redundancy
  title: Redundancy management
  content:
    - name: alive
      title: Autopilot alive flag

- name: stream
  title: Special streams and wrappers
  content:
    - name: gcs
      title: Local GCS data no uplink
      descr: <local><uid><data>
    - name: payload
      title: Payload data
      descr: <payload><uid><data>

    - name: hid
      title: Human interface
      descr: <hid><uid><data>
    - name: video
      title: Video data

- name: script
  title: Scripting commands
  content:
    - name: vmexec
      title: Execute VM script onboard
      descr: <@function>
    - name: jsexec
      title: Execute JS script on GCS
      descr: <script text>

- name: formation
  title: Formation data
  content:
    - name: haps
      title: HAPS shared data
    - name: left
      title: Left wing data
    - name: right
      title: Right wing data
    - name: center
      title: Center wing data

- name: sim
  title: Simulator data
  content:
    - name: ctr
      title: Controls assignments
    - name: display
      title: Visualization

# ensure nmt is the last
- reserved: 0x09
- reserved: 0x0A
- reserved: 0x0B
- reserved: 0x0C
- reserved: 0x0D
- reserved: 0x0E

- name: nmt
  title: Network Management
  content:
    - name: search
      title: Search nodes
      descr: Broadcast request, re <sn>

    - name: ident
      title: Node identification
      descr: <ident_s><strings:name+version+hardware><filenames>

    - name: ack
      title: Acknowledge request
      descr: <pid_s><result_e>[<timeout_t>]

    - name: file
      title: File operations
      descr: <name><fop_e> [<data>]

    - name: reboot
      title: System reboot
      descr: <type_e>

    - name: msg
      title: Text message
      descr: <type_e><string>

    - name: upd
      title: Update parameter
      descr: <fid_t><data>

    - name: mod
      title: Modules tree
      descr: <op_e>

    - name: debug
      title: Debug data
      descr: <data>

    - name: usr
      title: Node specific command
      descr: <cmd_s> [<data>]
